(function(e){function t(t){for(var r,i,o=t[0],s=t[1],l=t[2],b=0,f=[];b<o.length;b++)i=o[b],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},c=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),a=(n("5377"),{class:"wrapper"}),c=Object(r["g"])("h1",null,"ぴくせる すけゐらぁ",-1),i=Object(r["f"])(" 変換 "),o={class:"content margin-tb-1"},s={class:"box block margin-tb-2"},l={class:"box block"},u=Object(r["g"])("p",null,"エラーが発生しました。作った人に下記のテキストを送りつけてください。",-1),b={class:"box-reverse block selectable-all"},f=Object(r["e"])('<h2>つかいかた</h2><ol><li>左の数字入力欄から<strong>拡大率(100～400%)</strong>を設定する</li><li>ピクチャを選択ボタンをクリックして<strong>ピクチャを選ぶ</strong></li><li><strong>変換ボタン</strong>をクリックする</li><li>イラスト調で拡大されたピクチャが出てくる</li><li>出てきたピクチャかZIPダウンロードボタンをクリックしてピクチャを保存</li><li>幸せ！</li></ol><p>※変換元ピクチャの縦横サイズが大きすぎたら変換後ピクチャの一部が途切れます（現在原因究明中…）</p><h2 class="margin-t-2">Tips</h2><ul><li>解像度の低いイラスト(ドット絵ではない)はキレイに拡大されません</li><li>拡大率を100%に指定することでドット絵にアンチエイリアスをかけることができます</li></ul>',5),p={class:"btn-list"},g=Object(r["f"])(" ZIPダウンロード "),d=Object(r["f"])(" リセット "),v={class:"center"},h={key:0,class:"margin-tb-4"},j={href:"https://bit.ly/2IOgFa3",target:"_blank",class:"box circle margin-lr-1 hover active"},m=Object(r["f"])(),O=Object(r["f"])(" 共有 "),w={href:"https://twitter.com/irokaru",target:"_blank",class:"box circle margin-lr-1 hover active"},y=Object(r["f"])(" 作った人 "),k={href:"https://github.com/irokaru/pixel-scaler",target:"_blank",class:"box circle margin-lr-1 hover active"},x=Object(r["f"])(" リポジトリ "),_={href:"https://nononotyaya.booth.pm/items/2517679",target:"_blank",class:"box circle margin-lr-1 hover active"},R=Object(r["f"])(" Booth "),S={key:1,class:"box block margin-tb-4"},I={key:0},E=Object(r["g"])("p",null,[Object(r["f"])("ダウンロードは"),Object(r["g"])("a",{href:"https://nononotyaya.booth.pm/items/2517679"},"コチラ"),Object(r["f"])("から！")],-1),z={key:2},L={key:0};function U(e,t,n,U,C,A){var D=Object(r["n"])("v-fa"),P=Object(r["n"])("Loading");return Object(r["j"])(),Object(r["c"])("div",a,[Object(r["g"])("main",null,[c,Object(r["g"])("nav",null,[Object(r["r"])(Object(r["g"])("input",{class:"col",type:"number","onUpdate:modelValue":t[1]||(t[1]=function(e){return C.size=e}),min:"100",max:"400",placeholder:"拡大率"},null,512),[[r["p"],C.size,void 0,{number:!0}]]),Object(r["g"])("label",{class:"col-big box circle hover active pointer",onDragover:t[3]||(t[3]=Object(r["s"])((function(){}),["prevent"])),onDrop:t[4]||(t[4]=Object(r["s"])((function(){return A.setFiles.apply(A,arguments)}),["prevent"]))},[Object(r["g"])("input",{type:"file",accept:"image/png, image/jpeg, image/gif",multiple:"",onChange:t[2]||(t[2]=function(){return A.setFiles.apply(A,arguments)})},null,32),Object(r["g"])(D,{icon:["far","file-image"]}),Object(r["f"])(" "+Object(r["o"])(C.files.length?"".concat(C.files.length,"件のファイルを選択中"):"ピクチャを選択(gif/jpeg/png)"),1)],32),Object(r["g"])("div",{class:"col box circle hover active pointer",onClick:t[5]||(t[5]=function(){return A.convert.apply(A,arguments)})},[Object(r["g"])(D,{icon:"reply",flip:"vertical"}),i])]),Object(r["g"])("div",o,[Object(r["r"])(Object(r["g"])("div",s,[Object(r["g"])(D,{icon:"times-circle",class:"close-btn pointer",onClick:t[6]||(t[6]=function(e){return C.errors=[]})}),Object(r["g"])("ul",null,[(Object(r["j"])(!0),Object(r["c"])(r["a"],null,Object(r["m"])(C.errors,(function(e){return Object(r["j"])(),Object(r["c"])("li",{key:e.id},Object(r["o"])(e),1)})),128))])],512),[[r["q"],0!==C.errors.length]]),Object(r["g"])("div",l,[C.exception?(Object(r["j"])(),Object(r["c"])(r["a"],{key:0},[Object(r["g"])(D,{icon:"times-circle",class:"close-btn pointer",onClick:t[7]||(t[7]=function(e){return C.exception=null})}),u,Object(r["g"])("pre",b,Object(r["o"])(C.exception),1)],64)):0===C.converted.length?(Object(r["j"])(),Object(r["c"])(r["a"],{key:1},[f],64)):(Object(r["j"])(),Object(r["c"])(r["a"],{key:2},[Object(r["g"])("div",p,[Object(r["g"])("div",{class:"col box circle hover active pointer margin-lr-1",onClick:t[8]||(t[8]=function(){return A.download.apply(A,arguments)})},[Object(r["g"])(D,{icon:["far","file-archive"]}),g]),Object(r["g"])("div",{class:"col box circle hover active pointer margin-lr-1",onClick:t[9]||(t[9]=function(){return A.resetConverted.apply(A,arguments)})},[Object(r["g"])(D,{icon:"eraser"}),d]),C.flags.convert?(Object(r["j"])(),Object(r["c"])(P,{key:0})):Object(r["d"])("",!0)]),(Object(r["j"])(!0),Object(r["c"])(r["a"],null,Object(r["m"])(C.converted,(function(e){return Object(r["j"])(),Object(r["c"])("div",{class:"box-reverse block margin-tb-1 scroll",key:e.image.filename},[Object(r["g"])("div",v,[Object(r["g"])("img",{src:A.toShowable(e.original)},null,8,["src"]),Object(r["g"])(D,{icon:"arrow-down",class:"margin-tb-2 big"}),Object(r["g"])("a",{href:e.image.base64,download:e.image.filename},[Object(r["g"])("img",{src:e.image.base64},null,8,["src"])],8,["href","download"])])])})),128))],64))])]),A.isWeb()?(Object(r["j"])(),Object(r["c"])("div",h,[Object(r["g"])("a",j,[Object(r["g"])(D,{icon:["fas","share-alt-square"]}),m,Object(r["g"])(D,{icon:["fab","twitter"]}),O]),Object(r["g"])("a",w,[Object(r["g"])(D,{icon:["fab","twitter"]}),y]),Object(r["g"])("a",k,[Object(r["g"])(D,{icon:["fab","github"]}),x]),Object(r["g"])("a",_,[Object(r["g"])(D,{icon:"images"}),R])])):Object(r["d"])("",!0),A.isElectron()&&C.flags.showVersionContainer?(Object(r["j"])(),Object(r["c"])("div",S,[Object(r["g"])(D,{icon:"times-circle",class:"close-btn pointer",onClick:t[10]||(t[10]=function(e){return C.flags.showVersionContainer=!1})}),C.flags.checkUpdate?C.flags.checkUpdate&&""!==C.latestVersion?(Object(r["j"])(),Object(r["c"])(r["a"],{key:1},[Object(r["g"])("p",null,"最新バージョン "+Object(r["o"])(C.latestVersion)+" がリリースされています。",1),E],64)):(Object(r["j"])(),Object(r["c"])("p",z,"お使いのバージョンは最新版です")):(Object(r["j"])(),Object(r["c"])("p",I,"アップデート確認中…"))])):Object(r["d"])("",!0)]),A.isWeb()?(Object(r["j"])(),Object(r["c"])("footer",L," (C) 2020 ののの茶屋. ")):Object(r["d"])("",!0)])}n("99af"),n("07ac");var C=n("b85c"),A=(n("96cf"),n("1da1")),D=(n("d3b7"),n("ac1f"),n("1276"),n("c4e3")),P=n.n(D),F=n("21a6"),T=n.n(F),V={ScaledImagestoZip:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=new P.a,r=Object(C["a"])(e);try{for(r.s();!(a=r.n()).done;)c=a.value,n.file(c.filename,c.base64.split(",")[1],{base64:!0})}catch(i){r.e(i)}finally{r.f()}return t.abrupt("return",new Promise((function(e,t){n.generateAsync({type:"blob"}).then((function(t){e(t)})).catch((function(e){t(e)}))})));case 4:case"end":return t.stop()}}),t)})))()},download:function(e,t){T.a.saveAs(e,t)}},N=(n("3ca3"),n("ddb0"),n("2b3d"),n("d4ec")),B=n("bee2"),W=n("45eb"),J=n("7e84"),M=n("262e"),Z=n("2caf"),q=n("9072"),K=function(e){Object(M["a"])(n,e);var t=Object(Z["a"])(n);function n(){return Object(N["a"])(this,n),t.call(this)}return Object(B["a"])(n,[{key:"_readAs",value:function(e,t){var r=this;return new Promise((function(a,c){Object(W["a"])(Object(J["a"])(n.prototype),"addEventListener",r).call(r,"load",(function(e){var t=e.target;return a(t.result)})),Object(W["a"])(Object(J["a"])(n.prototype),"addEventListener",r).call(r,"error",(function(e){var t=e.target;return c(t.error)})),Object(W["a"])(Object(J["a"])(n.prototype),t,r).call(r,e)}))}},{key:"readAsArrayBuffer",value:function(e){return this._readAs(e,"readAsArrayBuffer")}},{key:"readAsDataURL",value:function(e){return this._readAs(e,"readAsDataURL")}},{key:"readAsText",value:function(e){return this._readAs(e,"readAsText")}}]),n}(Object(q["a"])(FileReader)),X={getFileListOnEvent:function(e){return e.target.files||e.dataTransfer.files},toShowable:function(e){return window.URL.createObjectURL(e)},fileToImageData:function(e,t,n){return Object(A["a"])(regeneratorRuntime.mark((function r(){var a,c,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,(new K).readAsDataURL(e);case 2:return a=r.sent,c=document.createElement("canvas"),i=c.getContext("2d"),r.abrupt("return",new Promise((function(e,r){var c=new Image;c.src=a,c.onload=function(){i.drawImage(c,0,0),e(i.getImageData(0,0,t,n))},c.onerror=function(e){r(e)}})));case 6:case"end":return r.stop()}}),r)})))()},imageDataToBase64:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=e.width,t.height=e.height,n.putImageData(e,0,0),t.toDataURL()},resizeImageData:function(e,t,n){return Object(A["a"])(regeneratorRuntime.mark((function r(){var a,c,i,o,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=t>>0,c=n>>0,r.next=4,window.createImageBitmap(e,0,0,e.width,e.height);case 4:return i=r.sent,o=document.createElement("canvas"),o.width=a,o.height=c,s=o.getContext("2d"),s.scale(a/e.width,c/e.height),s.drawImage(i,0,0),r.abrupt("return",s.getImageData(0,0,a,c));case 12:case"end":return r.stop()}}),r)})))()},getFileScaleSize:function(e){return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){var r=new Image;r.onload=function(){var e={width:r.naturalWidth,height:r.naturalHeight};URL.revokeObjectURL(r.src),t(e)},r.onerror=function(e){n(e)},r.src=URL.createObjectURL(e)})));case 1:case"end":return t.stop()}}),t)})))()}},H=(n("ace4"),n("b0c0"),n("466d"),n("8a59"),n("fb2c"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("e099")),G=n("dbed"),Q=function(){function e(t){if(Object(N["a"])(this,e),!this._validate(t))throw new Error("failed create scaled image"+JSON.stringify(t));this.base64=t.base64,this.filename=t.filename,this.type=t.type,this.scale=t.scale}return Object(B["a"])(e,[{key:"_validate",value:function(e){var t={base64:{type:"string"},filename:{type:"string"},type:{type:"string"},scale:{type:"number",min:100,max:400}},n=(new H["a"]).rules(e,t);return n.exec()}}]),e}(),Y={scale:function(e,t){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function r(){var a,c,i,o,s,l,u,b,f;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=n._toParams(e,t),n._validate(a)){r.next=3;break}return r.abrupt("return",{status:"failed",messages:n._validate(a,!0)});case 3:return r.next=5,X.getFileScaleSize(e);case 5:return c=r.sent,r.next=8,X.fileToImageData(e,c.width,c.height);case 8:return i=r.sent,o=new Uint32Array(i.data.buffer),s=n._getSizeInteger(t),l=n._getXbr(s),u=l(o,c.width,c.height),b=new ImageData(new Uint8ClampedArray(u.buffer),c.width*s,c.height*s),r.next=16,X.resizeImageData(b,c.width*t/100,c.height*t/100);case 16:return f=r.sent,r.abrupt("return",{status:"success",image:new Q({base64:X.imageDataToBase64(f),filename:e.name,type:e.type,scale:t}),original:e});case 18:case"end":return r.stop()}}),r)})))()},adjustSize:function(e){return e>400?400:e<100?100:e>>0},_getSizeInteger:function(e){return e<=200?2:e<=300?3:e<=400||400===e?4:void 0},_getXbr:function(e){var t={2:G["a"],3:G["b"],4:G["c"]};return t[e]},_toParams:function(e,t){return{file:e,size:t}},_validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={file:{type:"callback",callback:this._validateFile,name:"ファイル"},size:{type:"integer",min:100,max:400,name:"拡大率"}},r=(new H["a"]).rules(e,n);return t?r.errors():r.exec()},_validateFile:function(e){var t=[];return H["a"].isObject(e)&&"[object File]"===toString.call(e)?null==e.type.match(/^image/)?["画像ファイルを選択してください(".concat(e.name,")")]:(null===e.type.match(/^image/)||e.type.match(/^image\/(png|jpeg|gif)/)||t.push("pngかjpegかgifを選択してください(".concat(e.name,")")),t):["画像ファイルを選択してください"]}},$=n("9224"),ee={version:function(){return $.version},isWeb:function(){return!H["a"].hasKeyInObject(Object({NODE_ENV:"production",BASE_URL:""}),"IS_ELECTRON")},isElectron:function(){return H["a"].hasKeyInObject(Object({NODE_ENV:"production",BASE_URL:""}),"IS_ELECTRON")}},te=(n("a9e3"),n("4d63"),n("25f0"),n("5319"),{check:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e._getVersions();case 2:return n=t.sent,t.abrupt("return",e._compare(ee.version(),n[0].name)?n[0].name:"");case 4:case"end":return t.stop()}}),t)})))()},_getVersions:function(){return fetch("https://api.github.com/repos/irokaru/pixel-scaler/tags").then((function(e){return e.ok?e.json():[{name:""}]})).catch((function(){return[{name:""}]}))},_compare:function(e,t){return e=this._parge(e),t=this._parge(t),e<t},_parge:function(e){var t=new RegExp("\\.","g");return Number(e.replace(t,""))}}),ne=Object(r["t"])("data-v-6e86ecfe");Object(r["l"])("data-v-6e86ecfe");var re={class:"loader"};Object(r["k"])();var ae=ne((function(e,t,n,a,c,i){return Object(r["j"])(),Object(r["c"])("div",re,"Loading...")}));n("a8f7");const ce={};ce.render=ae,ce.__scopeId="data-v-6e86ecfe";var ie=ce,oe={name:"app",data:function(){return{size:200,files:[],converted:[],errors:[],zip:null,exception:null,latestVersion:"",flags:{convert:!1,checkUpdate:!1,showVersionContainer:!0}}},methods:{setFiles:function(e){this.files=X.getFileListOnEvent(e),this.converted=[],this.zip=null,this.exception=null},convert:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){var n,r,a,c,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.converted=[],e.errors=[],e.exception=null,e.size=Y.adjustSize(e.size),!e.flags.convert&&0!==e.files.length){t.next=6;break}return t.abrupt("return");case 6:e.flags.convert=!0,n=Object(C["a"])(e.files),t.prev=8,n.s();case 10:if((r=n.n()).done){t.next=19;break}return a=r.value,t.next=14,Y.scale(a,e.size).then((function(t){if("success"===t.status)e.converted.push(t);else for(var n=0,r=Object.values(t.messages);n<r.length;n++){var a=r[n];e.errors=e.errors.concat(a)}})).catch((function(t){e.exception=t}));case 14:if(!e.exception){t.next=17;break}return e.flags.convert=!1,t.abrupt("return");case 17:t.next=10;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](8),n.e(t.t0);case 24:return t.prev=24,n.f(),t.finish(24);case 27:c=[],i=Object(C["a"])(e.converted);try{for(i.s();!(o=i.n()).done;)s=o.value,c.push(s.image)}catch(l){i.e(l)}finally{i.f()}return t.next=32,V.ScaledImagestoZip(c).then((function(t){e.zip=t})).catch((function(t){e.exception=t}));case 32:e.flags.convert=!1;case 33:case"end":return t.stop()}}),t,null,[[8,21,24,27]])})))()},toShowable:function(e){return X.toShowable(e)},download:function(){this.flags.convert||V.download(this.zip,"images.zip")},resetConverted:function(){this.flags.convert||(this.files=[],this.converted=[],this.errors=[],this.zip=null)},isWeb:function(){return ee.isWeb()},isElectron:function(){return ee.isElectron()},checkUpdate:function(){return te.check()}},created:function(){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isElectron()){t.next=5;break}return t.next=3,e.checkUpdate();case 3:e.latestVersion=t.sent,e.flags.checkUpdate=!0;case 5:case"end":return t.stop()}}),t)})))()},components:{Loading:ie}};oe.render=U;var se=oe,le=n("ecee"),ue=n("c074"),be=n("b702"),fe=n("f2d1"),pe=n("ad3d");n("b751");le["c"].add(ue["a"],be["a"],fe["a"]);var ge=Object(r["b"])(se);ge.component("v-fa",pe["a"]),ge.mount("#app")},9224:function(e){e.exports=JSON.parse('{"name":"pixel-scaler","version":"0.1.1","private":true,"description":"pixel art scale app","author":{"name":"irokaru","url":"https://nononotyaya.net/"},"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","deploy":"yarn build && gh-pages -d dist","electron:build":"vue-cli-service electron:build","electron:serve":"vue-cli-service electron:serve","postinstall":"electron-builder install-app-deps","postuninstall":"electron-builder install-app-deps"},"main":"background.js","dependencies":{"@fortawesome/fontawesome-svg-core":"^1.2.32","@fortawesome/vue-fontawesome":"^3.0.0-2","core-js":"^3.6.5","vue":"^3.0.0"},"devDependencies":{"@fortawesome/free-brands-svg-icons":"^5.15.1","@fortawesome/free-regular-svg-icons":"^5.15.1","@fortawesome/free-solid-svg-icons":"^5.15.1","@vue/cli-plugin-babel":"~4.5.8","@vue/cli-plugin-eslint":"~4.5.8","@vue/cli-service":"~4.5.8","@vue/compiler-sfc":"^3.0.0","babel-eslint":"^10.1.0","electron":"^9.0.0","electron-devtools-installer":"^3.1.0","eslint":"^6.7.2","eslint-plugin-vue":"^7.0.0-0","file-saver":"^2.0.2","gh-pages":"^3.1.0","husky":"^4.3.0","jszip":"^3.5.0","node-sass":"^4.14.1","nonono-validator":"irokaru/nonono-validator","sass-loader":"^10.0.3","vue-cli-plugin-electron-builder":"~2.0.0-rc.5","vue-template-compiler":"^2.6.10","xbr-js":"^2.0.1"},"eslintConfig":{"root":true,"env":{"node":true},"extends":["plugin:vue/vue3-essential","eslint:recommended"],"rules":{"no-console":0},"parserOptions":{"parser":"babel-eslint"}},"browserslist":["> 1%","last 2 versions"],"husky":{"hooks":{"pre-commit":"yarn lint"}}}')},a09b:function(e,t,n){},a8f7:function(e,t,n){"use strict";n("a09b")},b751:function(e,t,n){}});
//# sourceMappingURL=app.f8379215.js.map